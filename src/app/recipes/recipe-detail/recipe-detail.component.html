<div class="overall-wrapper">
    <button class="btn back-btn d-none" routerLink="../" queryParamsHandling="preserve"><i class="bi bi-arrow-left-short"></i> Back To List</button>
    <div *ngIf="recipe" class="recipe-detail-container">
        <div class="row">
            <div class="col-12">
                <img [src]="isImgLoaded ? recipe.imageUrl : imgPlaceholder" style="width: 100%; height: 400px; object-fit: cover" (load)="isImgLoaded = true" />
            </div>
        </div>
        <div class="recipe-text-wrapper">
            <div class="row">
                <div class="col-12 mb-4">
                    <div class="recipe-name">
                        <h2 class="d-inline-block">{{ recipe.name }}</h2>
                        <div class="button-wrapper">
                            <button type="button" class="btn custom-btn" routerLink="edit">Edit <i class="bi bi-pencil"></i></button>
                            <button type="button" class="btn custom-btn remove-btn" routerLink="edit" (click)="removeRecipe()">
                                Remove <i class="bi bi-folder-x"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row my-3">
                <div class="col-md-8">
                    <div class="recipe-overview">
                        <h5>Description</h5>
                        <p>{{ recipe.description }}</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="recipe-info">
                        <h5>Information</h5>
                        <p><strong>Serving: </strong><i class="bi bi-person-fill" *ngFor="let item of recipe.serving | numToArray"></i></p>
                        <p><strong>Preparing Time:</strong> {{ recipe.time.hour ? recipe.time.hour + "h " : "" }}{{ recipe.time.min }}min</p>
                        <p><strong>Calories:</strong> {{ recipe.calo }} kcal</p>
                    </div>
                </div>
            </div>

            <div class="row ingredient-wrapper">
                <div class="col-12">
                    <h5 class="d-inline">Ingredients</h5>
                    <button type="button" class="btn custom-btn" (click)="addIngredientToShoppingList()">Add to <i class="bi bi-cart-check"></i></button>
                    <div class="ingredient-item-wrapper d-flex mt-3">
                        <div class="ingredient-item" *ngFor="let ingredient of recipe.ingredients">
                            <h6>{{ ingredient.name }}</h6>
                            <p>{{ ingredient.amount }} {{ ingredient.unit }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
